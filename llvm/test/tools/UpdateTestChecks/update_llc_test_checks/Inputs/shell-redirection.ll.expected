; NOTE: Assertions have been autogenerated by utils/update_llc_test_checks.py
;; Check that we can parse RUN lines that have shell redirections
; RUN: llc -mtriple=x86_64 %s -o - 2>/dev/null | FileCheck %s --check-prefix=I32
; RUN: llc < %s -mtriple=x86_64 2>&1 | FileCheck %s --check-prefix=I32
; RUN: sed 's/i32/i64/g' %s | llc -mtriple=x86_64 2>&1 | FileCheck %s --check-prefix=I64

define i32 @add(i32 %X, i32 %Y) {
; I32-LABEL: add:
; I32:       # %bb.0:
; I32-NEXT:    # kill: def $esi killed $esi def $rsi
; I32-NEXT:    # kill: def $edi killed $edi def $rdi
; I32-NEXT:    leal (%rdi,%rsi), %eax
; I32-NEXT:    retq
;
; I64-LABEL: add:
; I64:       # %bb.0:
; I64-NEXT:    leaq (%rdi,%rsi), %rax
; I64-NEXT:    retq
  %Q = add i32 %X, %Y
  ret i32 %Q
}
